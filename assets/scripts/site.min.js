!function(t,e){"use strict";"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.jabiru=e(t)}(this,function(){"use strict";var t,e,n,o=!1,r={},a=document.getElementsByTagName("script")[0];return r.get=function(r){function i(t){c[l]=t=null,s.parentNode.removeChild(s)}if(!r||"string"!=typeof r.url||"function"!=typeof r.success)throw new Error("Invalid option object argument");var s=document.createElement("script"),l=t+e,c=o?window:window.jabiru,u=o?"":"jabiru.",d=r.success,f=r.url;e++,c[l]=function(t){if("function"!=typeof d)throw new Error("You must specify a method as a callback");d(t)},s.onload=s.onerror=s.onreadystatechange=function(t){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s&&(s.onreadystatechange=null),i(t))},s.src=f+n+"="+u+l,a.parentNode.insertBefore(s,a)},r.naming=function(n){if("string"==typeof n)return t=n,e=0,r;throw new Error("Callback name must be a string")},r.query=function(t){if("string"==typeof t)return n=t,r;throw new Error("Query name must be a string")},r.toGlobal=function(){return o=!0,r},r.naming("jabiruCallback"),r.query("?callback"),r}),function(t,e,n){"use strict";function o(t){for(;t.firstChild;)t.removeChild(t.firstChild);t.innerText&&(t.innerText="")}function r(){var t=Math.floor(Math.random()*g.length);return g[t]}function a(t){o(u),u.innerHTML=t}function i(){a("Getting your location."),navigator.geolocation.getCurrentPosition(function(t){a("Getting weather information from your location."),jabiru.get({url:"http://api.openweathermap.org/data/2.5/weather?lat="+t.coords.latitude+"&lon="+t.coords.longitude+"&units=metric&APPID=8a9fddf3938ff20a939357ee9aaad67c",success:s})},function(t){a("There was a problem getting your location. Sorry."),console.error(t)},{enableHighAccuracy:!0})}function s(t){if(200===t.cod){var e,n="Apparently you are in <strong>"+t.name+"</strong>  and the weather is <strong>"+t.weather[0].description+"</strong>.<br>";if(l(t.weather[0].id))return n+="So, maybe you can go outside and listen to Jeff Buckley later. Have a nice day!",void a(n);e=r(),n=n+"So, maybe it is a good time to listen to <strong>"+e.title+"</strong>...",a(n),d.appendChild(f),f.src="https://www.youtube.com/embed/"+e.slug+"?autoplay=1&rel=0&amp;controls=0&amp;showinfo=0"}else a("There was an error fetching the weather data. Please reload the page or try again later.")}function l(t){var e=[200,201,202,210,211,212,221,230,231,232,300,301,302,310,311,312,313,314,321,500,501,502,503,504,511,520,521,522,531,600,601,602,611,612,615,616,620,621,622,804];return-1!==e.indexOf(t)?!1:!0}function c(){var t=e.getElementsByClassName("back--img")[0];t.onload=function(){this.classList.add("loaded"),this.onload=null},t.src=t.dataset.src}var u=e.getElementById("message"),d=e.getElementById("media"),f=e.createElement("iframe"),g=[{title:"Everybody Here Wants You",slug:"nrMwgTc69y4"},{title:"So Real",slug:"EcaxrqhUJ4c"},{title:"Grace",slug:"A3adFWKE9JE"},{title:"Forget Her",slug:"HO0svGjVEP8"},{title:"Last Goodbye",slug:"3MMXjunSx80"}];f.width=854,f.height=480,f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen","true"),f.onload=function(){d.classList.add("visible"),setTimeout(function(){t.scrollTo(0,u.getBoundingClientRect().y-5)},450)},jabiru.query("&callback").toGlobal(),t.onload=function(){c();var t=e.getElementById("start");t.addEventListener("click",function(){t.classList.add("hidden"),u.classList.add("show"),i()},!1)}}(window,document);