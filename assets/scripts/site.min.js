!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.jabiru=t(e)}(this,function(){"use strict";var e,t,n,r=!1,o={},a=document.getElementsByTagName("script")[0];return o.get=function(o){function i(e){s[u]=e=null,c.parentNode.removeChild(c)}if(!o||"string"!=typeof o.url||"function"!=typeof o.success)throw new Error("Invalid option object argument");var c=document.createElement("script"),u=e+t,s=r?window:window.jabiru,l=r?"":"jabiru.",d=o.success,f=o.url;t++,s[u]=function(e){if("function"!=typeof d)throw new Error("You must specify a method as a callback");d(e)},c.onload=c.onerror=c.onreadystatechange=function(e){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(c&&(c.onreadystatechange=null),i(e))},c.src=f+n+"="+l+u,a.parentNode.insertBefore(c,a)},o.naming=function(n){if("string"==typeof n)return e=n,t=0,o;throw new Error("Callback name must be a string")},o.query=function(e){if("string"==typeof e)return n=e,o;throw new Error("Query name must be a string")},o.toGlobal=function(){return r=!0,o},o.naming("jabiruCallback"),o.query("?callback"),o}),function(e,t,n){"use strict";function r(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.innerText&&(e.innerText="")}function o(e){r(s),s.innerHTML=e}function a(){o("Getting your location."),navigator.geolocation.getCurrentPosition(function(e){o("Getting weather information from your location."),jabiru.get({url:"http://api.openweathermap.org/data/2.5/weather?lat="+e.coords.latitude+"&lon="+e.coords.longitude+"&units=metric",success:i})},function(e){o("There was a problem getting your location. Sorry."),console.error(e)},{enableHighAccuracy:!0})}function i(e){if(200===e.cod){var t="Apparently you are in <strong>"+e.name+"</strong>  and the weather is <strong>"+e.weather[0].description+"</strong>.<br><br>";if(c(e.weather[0].id))return t+="So, maybe you can go outside and listen to Jeff Buckley later. Have a nice day!",void o(t);t+="So, maybe it is a good time to hear a nice song...",o(t),l.innerHTML=d}else o("There was an error fetching the weather data. Please reload the page or try again later.")}function c(e){var t=[200,201,202,210,211,212,221,230,231,232,300,301,302,310,311,312,313,314,321,500,501,502,503,504,511,520,521,522,531,600,601,602,611,612,615,616,620,621,622];return-1!==t.indexOf(e)?!1:!0}function u(){var e=t.getElementsByClassName("back--img")[0];e.onload=function(){this.classList.add("loaded"),this.onload=null},e.src=e.getAttribute("data-src")}var s=t.getElementById("message"),l=t.getElementById("media"),d='<iframe width="854" height="480" src="https://www.youtube.com/embed/nrMwgTc69y4?autoplay=1"frameborder="0" allowfullscreen></iframe>';jabiru.query("&callback").toGlobal(),e.onload=function(){u(),a()}}(window,document);